<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ –†–æ–±–æ—Ç–∞ 15 - –ó–∞–≤–¥–∞–Ω–Ω—è 4</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="window">
        <div class="title-bar">
            <span class="title-bar-text">shuffleText.exe</span>
            <div class="title-bar-controls">
                <button aria-label="–ó–≥–æ—Ä–Ω—É—Ç–∏">üóï</button>
                <button aria-label="–†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏">üóñ</button>
                <button aria-label="–ó–∞–∫—Ä–∏—Ç–∏">üóô</button>
            </div>
        </div>
        <div class="window-body">
            <h1 class="calmness-text">–ó–∞–≤–¥–∞–Ω–Ω—è 4: –ü—Ä–æ–≥—Ä–∞–º–∞ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è</h1>
            
            <p>–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç, —ñ –ø—Ä–æ–≥—Ä–∞–º–∞ –ø–µ—Ä–µ–º—ñ—à–∞—î –±—É–∫–≤–∏ –≤ –∫–æ–∂–Ω–æ–º—É —Å–ª–æ–≤—ñ, –∫—Ä—ñ–º –ø–µ—Ä—à–æ—ó —Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –±—É–∫–≤–∏.</p>
            <p><strong>–ü—Ä–∏–∫–ª–∞–¥ –≤–≤–µ–¥–µ–Ω–Ω—è:</strong> "–ü—Ä–∏–≤—ñ—Ç —Å–≤—ñ—Ç"</p>
            <label for="input-text">–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç –¥–ª—è —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è:</label>
            <input type="text" id="input-text" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à —Ç–µ–∫—Å—Ç —Ç—É—Ç...">
            <button onclick="shuffleText()">–ó–∞—à–∏—Ñ—Ä—É–≤–∞—Ç–∏</button>
            <div id="results" style="margin-top: 15px;">
                <p id="shuffled-text" style="font-weight: bold;"></p>
            </div>
            <button class="home-button" onclick="window.location.href='index.html'">üè† Home</button>
        </div>
    </div>
    <script>
        function shuffleWord(word) {
            // –Ø–∫—â–æ —Å–ª–æ–≤–æ –∫–æ—Ä–æ—Ç—à–µ 4 –±—É–∫–≤, –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –π–æ–≥–æ –±–µ–∑ –∑–º—ñ–Ω
            if (word.length < 4) {
                return word;
            }

            // –ë–µ—Ä–µ–º–æ –ø–µ—Ä—à—É —ñ –æ—Å—Ç–∞–Ω–Ω—é –±—É–∫–≤—É
            const firstLetter = word[0];
            const lastLetter = word[word.length - 1];

            // –ë–µ—Ä–µ–º–æ —Å–µ—Ä–µ–¥–Ω—ñ –±—É–∫–≤–∏ —ñ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î–º–æ —ó—Ö –Ω–∞ –º–∞—Å–∏–≤
            let middleLetters = word.slice(1, -1).split('');

            // –ü–µ—Ä–µ–º—ñ—à—É—î–º–æ —Å–µ—Ä–µ–¥–Ω—ñ –±—É–∫–≤–∏
            for (let i = middleLetters.length - 1; i > 0; i--) {
                // –ì–µ–Ω–µ—Ä—É—î–º–æ –≤–∏–ø–∞–¥–∫–æ–≤–∏–π —ñ–Ω–¥–µ–∫—Å –≤—ñ–¥ 0 –¥–æ i
                const randomIndex = Math.floor(Math.random() * (i + 1));
                
                // –ú—ñ–Ω—è—î–º–æ –º—ñ—Å—Ü—è–º–∏ –±—É–∫–≤–∏
                const temp = middleLetters[i];
                middleLetters[i] = middleLetters[randomIndex];
                middleLetters[randomIndex] = temp;
            }

            // –ó'—î–¥–Ω—É—î–º–æ –≤—Å—ñ —á–∞—Å—Ç–∏–Ω–∏ —Å–ª–æ–≤–∞ –Ω–∞–∑–∞–¥
            return firstLetter + middleLetters.join('') + lastLetter;
        }

        function shuffleText() {
            // –û—Ç—Ä–∏–º—É—î–º–æ –≤–≤–µ–¥–µ–Ω–∏–π —Ç–µ–∫—Å—Ç
            const input = document.getElementById("input-text").value.trim();
            
            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ —Ç–µ–∫—Å—Ç –Ω–µ –ø–æ—Ä–æ–∂–Ω—ñ–π
            if (!input) {
                document.getElementById("shuffled-text").textContent = "–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç.";
                return;
            }

            // –†–æ–∑–±–∏–≤–∞—î–º–æ —Ç–µ–∫—Å—Ç –Ω–∞ —Å–ª–æ–≤–∞, –ø–µ—Ä–µ–º—ñ—à—É—î–º–æ –∫–æ–∂–Ω–µ —Å–ª–æ–≤–æ —ñ –∑'—î–¥–Ω—É—î–º–æ –Ω–∞–∑–∞–¥
            const words = input.split(' ');
            const shuffledWords = words.map(word => shuffleWord(word));
            const shuffledText = shuffledWords.join(' ');

            // –í–∏–≤–æ–¥–∏–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            document.getElementById("shuffled-text").textContent = "–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π —Ç–µ–∫—Å—Ç: " + shuffledText;
        }

        // –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è Enter
        document.getElementById("input-text").addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                shuffleText();
            }
        });
    </script>
</body>
</html>
